<div class="align-items-center text-center justify-content-center">
  <p-selectButton
    [options]="modos"
    [(ngModel)]="idModoBusca"
    optionLabel="name"
    optionValue="id"
    (onChange)="onModoChange($event)"
    [unselectable]="true" />
</div>
<div class="card" *ngIf="idModoBusca === 0">
  <p-dataView #storeDV [value]="stores" [rows]="5" [paginator]="true">
    <ng-template pTemplate="list" let-stores>
      <div class="grid grid-nogutter">
        <div
          class="col-12"
          *ngFor="let store of stores; let first = first"
          class="col-12">
          <div
            class="flex flex-column sm:flex-row sm:align-items-center py-4 px-8 gap-4"
            [ngClass]="{ 'border-top-1 surface-border': !first }">
            <div class="md:w-8rem relative">
              <img
                class="block xl:block mx-auto border-round-xl w-full"
                src="../../../../../../assets/imgs/logo_padrao_loja.png"
                [alt]="store.dcr_nome_fantasia" />
              <p-tag
                [value]="'aberto'"
                [severity]="'success'"
                class="absolute"
                [style.left.px]="4"
                [style.top.px]="4" />
            </div>

            <div
              class="flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4">
              <div
                class="flex flex-row md:flex-column justify-content-between align-items-start gap-3">
                <div>
                  <div class="outfit-title mt-2">
                    {{ store.dcr_nome_fantasia }}
                  </div>
                </div>
                <div
                  class="flex flex-direction-row font-semibold outfit-hightlight">
                  <div
                    class="surface-0 flex align-items-center gap-2 justify-content-center p-1">
                    <i class="pi pi-star-fill text-yellow-500"></i>
                    5.0
                  </div>
                  <div
                    class="surface-0 flex align-items-center gap-2 justify-content-center p-1">
                    <i class="pi pi-map-marker"></i>
                    5 km
                  </div>
                </div>
              </div>
              <div class="flex flex-column md:align-items-end gap-5">
                <div class="flex flex-row-reverse md:flex-row gap-2">
                  <p-button
                    icon="pi pi-angle-right"
                    iconPos="right"
                    label="Ver loja"
                    styleClass="ml-2"
                    severity="warning"
                    [rounded]="true"
                    (click)="redirectToStore(store.cod_empreedimento)" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="empty">
      <div class="text-center outfit-hightlight" style="min-height: 60vh">
        Nenhum empreendimento encontrado para busca: '<strong>{{
          search
        }}</strong
        >'
      </div>
    </ng-template>
  </p-dataView>
</div>
<div class="card" *ngIf="idModoBusca === 1">
  <p-dataView #productDV [value]="products" [rows]="5" [paginator]="true">
    <ng-template pTemplate="list" let-products>
      <div class="grid grid-nogutter">
        <div
          class="col-12"
          *ngFor="let product of products; let first = first"
          class="col-12">
          <div
            class="flex flex-column sm:flex-row sm:align-items-center py-4 px-8 gap-4"
            [ngClass]="{ 'border-top-1 surface-border': !first }">
            <div class="md:w-8rem relative">
              <img
                class="block xl:block mx-auto border-round-xl w-full"
                src="../../../../../../assets/imgs/foto_padrao_produto.png"
                [alt]="product.dcr_produto" />
            </div>

            <div
              class="flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4">
              <div
                class="flex flex-row md:flex-column justify-content-between align-items-start gap-2">
                <div>
                  {{ product.empreendimento }}
                  <div class="outfit-title mt-2">
                    {{ product.dcr_produto }}
                  </div>
                </div>
                <div class="font-semibold outfit-hightlight">
                  <div
                    class="surface-0 flex align-items-center gap-2 justify-content-center">
                    <i class="pi pi-map-marker"></i>
                    5 km
                  </div>
                </div>
              </div>
              <div class="flex flex-column md:align-items-end gap-5">
                <div class="flex flex-row-reverse md:flex-row gap-2">
                  <p-button
                    icon="pi pi-angle-right"
                    iconPos="right"
                    label="Adicionar ao carrinho"
                    styleClass="ml-2"
                    severity="warning"
                    [rounded]="true"
                    (click)="redirectToStore(product.cod_empreedimento)" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="empty">
      <div class="text-center outfit-hightlight" style="min-height: 60vh">
        Nenhum produto encontrado para busca: '<strong>{{ search }}</strong
        >'
      </div>
    </ng-template>
  </p-dataView>
</div>
